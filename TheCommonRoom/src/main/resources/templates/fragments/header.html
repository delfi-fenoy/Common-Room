<!--
  Fragmento header reutilizable para la barra superior de la aplicaci贸n.

  Incluye:
  - Logo que linkea a la p谩gina de inicio (/home)
  - Barra de b煤squeda (input sin funcionalidad a煤n)
  - Botones de usuario que cambian seg煤n si hay usuario logueado o no:
    * Si no hay usuario logueado muestra opciones "Sign in" y "Register"
    * Si hay usuario logueado muestra foto, nombre y bot贸n para cerrar sesi贸n

  Para incluirlo en otras plantillas utilizar:
  <div th:insert="fragments/header :: header"></div>
-->

<header class="top-header" th:fragment="header">
  <div class="logo-container">
    <a th:href="@{/home}" class="logo-link" title="Inicio">
      <img th:src="@{/img/iconLetter.png}" alt="Logo de la aplicaci贸n" class="logo-img" />
    </a>
  </div>

  <form th:action="@{/search}" method="get" class="search-container">
    <input type="text" name="query" class="search-bar" placeholder="Buscar..." required/>
    <button type="submit" class="search-button" title="Buscar"></button>
  </form>


  <div class="user-buttons" th:if="${usuarioLogueado == null}">
    <a th:href="@{/signin}" class="user-section" title="Iniciar sesi贸n">
      <span class="sign-in-text">Sign in</span>
    </a>

    <a th:href="@{/signin(register=true)}" class="user-section" title="Registrarse">
      <span class="sign-in-text">Register</span>
    </a>
  </div>

  <div class="user-buttons" th:if="${usuarioLogueado != null}">
    <a th:href="@{/profile}" class="user-section user-profile" title="Perfil de usuario">
      <img th:if="${usuarioLogueado.profilePictureUrl != null}"
           th:src="@{${usuarioLogueado.profilePictureUrl}}"
           th:alt="'Foto de ' + ${usuarioLogueado.nombre}"
           class="user-photo" />
      <span th:text="${usuarioLogueado.nombre}"></span>
    </a>

    <form th:action="@{/logout}" method="post" class="logout-form">
      <button type="submit" class="user-section" title="Cerrar sesi贸n">
        <span class="sign-in-text">Logout</span>
      </button>
    </form>
  </div>

</header>
