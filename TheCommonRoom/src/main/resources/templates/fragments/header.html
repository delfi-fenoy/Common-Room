<!--
  Fragmento header reutilizable para la barra superior de la aplicación.

  Incluye:
  - Logo que linkea a la página de inicio (/home)
  - Barra de búsqueda (input sin funcionalidad aún)
  - Botones de usuario que cambian según si hay usuario logueado o no:
    * Si no hay usuario logueado muestra opciones "Sign in" y "Register"
    * Si hay usuario logueado muestra foto, nombre y botón para cerrar sesión

  Para incluirlo en otras plantillas utilizar:
  <div th:insert="fragments/header :: header"></div>
-->

<header class="top-header" th:fragment="header">
  <div class="logo-container">
    <a th:href="@{/home}" class="logo-link" title="Inicio">
      <img th:src="@{/img/iconLetter.png}" alt="Logo de la aplicación" class="logo-img" />
    </a>
  </div>

  <input type="text" class="search-bar" placeholder="Buscar..." />

  <div class="user-buttons" th:if="${usuarioLogueado == null}">
    <a th:href="@{/signin}" class="user-section" title="Iniciar sesión">
      <span class="sign-in-text">Sign in</span>
    </a>

    <a th:href="@{/signin(register=true)}" class="user-section" title="Registrarse">
      <span class="sign-in-text">Register</span>
    </a>
  </div>

  <div class="user-buttons" th:if="${usuarioLogueado != null}">
    <a th:href="@{/profile}" class="user-section" title="Perfil de usuario">
      <img th:if="${usuarioLogueado.profilePictureUrl != null}"
           th:src="@{${usuarioLogueado.profilePictureUrl}}"
           th:alt="'Foto de ' + ${usuarioLogueado.nombre}"
           class="user-photo" />
      <span th:text="${usuarioLogueado.nombre}">Nombre Usuario</span>
    </a>
    <form th:action="@{/logout}" method="post" class="logout-form" style="display:inline;">
      <button type="submit" class="logout-button">Cerrar sesión</button>
    </form>
  </div>
</header>
